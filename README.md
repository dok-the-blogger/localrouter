# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ Asus (Entware)

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Xray + SSH-—Ç—É–Ω–Ω–µ–ª—è –ø–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ —Ä–æ—É—Ç–µ—Ä–∞ –∏–ª–∏ –∑–∞–º–µ–Ω—ã –∂–µ–ª–µ–∑–∞.

## üñ•Ô∏è –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–µ–Ω–¥–∞ (Environment)
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–ª–∞–∂–µ–Ω–∞ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —Å—Ç–µ–∫–µ:
- **–ñ–µ–ª–µ–∑–æ:** Asus RT-AX82U (–∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —Ä–µ–≤–∏–∑–∏—è V2)
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:** ARMv7 (Broadcom BCM675x, Cortex A7, 3 —è–¥—Ä–∞) ‚Äî *–≤–∞–∂–Ω–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ Xray (–Ω—É–∂–µ–Ω linux-arm32-v7a).*
- **–ü—Ä–æ—à–∏–≤–∫–∞:** GNUton's Asuswrt-Merlin (build 3004.388.11_1-gnuton0_beta1). 
*–í–Ω–∏–º–∞–Ω–∏–µ: –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏ Merlin –∏–ª–∏ –µ—ë —Ñ–æ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ! –ò–º–µ–Ω–Ω–æ –æ–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ —Ä–∞–∑–¥–µ–ª–µ /jffs/, –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç —Ñ–ª–µ—à–∫—É —Å Entware –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.*

---

## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞–∫–µ—Ç—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å (Entware –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–∂–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ —á–µ—Ä–µ–∑ amtm):

```bash
opkg install autossh openssh-client curl
```

–ï—Å–ª–∏ Xray –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é, –µ–≥–æ —Ç–æ–∂–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è).

## 2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Ä–æ—É—Ç–µ—Ä–∞, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤:

- `/opt/etc/xray/config.json`
- `/opt/etc/init.d/S98do-tunnel`

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏ (`YOUR_SELECTEL_IP`, `YOUR_SECRET_PASSWORD`, `YOUR_DO_DROPLET_IP`) —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## 3. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ SSH –∫–ª—é—á
**–ö–†–ò–¢–ò–ß–ù–û:**

1.  –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—É —Ç—É–Ω–Ω–µ–ª—è:
    ```bash
    chmod +x /opt/etc/init.d/S98do-tunnel
    ```

2.  **SSH –ö–õ–Æ–ß:**
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á `do_ss` –≤ `/opt/etc/ssh/`.
    **–í–ê–ñ–ù–û:** –ñ–µ—Å—Ç–∫–æ –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∫–ª—é—á, –∏–Ω–∞—á–µ SSH –æ—Ç–∫–∞–∂–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å:
    ```bash
    chmod 600 /opt/etc/ssh/do_ss
    ```

## 4. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã (JFFS)
–î–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Ñ–∞–µ—Ä–≤–æ–ª–∞ –≤ —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏ —Ä–æ—É—Ç–µ—Ä–∞.

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `nat-start` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/jffs/scripts/`.
2. –ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_DEVICE_IP_1` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
3. –í—ã–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
   ```bash
   chmod +x /jffs/scripts/nat-start
   ```

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Ä–æ—É—Ç–µ—Ä–∞ (Administration -> System) –≤–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ü–∏—è **"Enable JFFS custom scripts and configs"**.
